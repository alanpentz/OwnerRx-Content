<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Concentration Risk Tool - OwnerRx</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 32px;
            color: #333;
            margin-bottom: 15px;
        }
        
        .header p {
            color: #666;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .alan-quote {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            margin-top: 20px;
            font-style: italic;
        }
        
        .main-content {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 22px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .customer-input {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .input-row label {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }
        
        .input-row input {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .input-row input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .add-customer-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .add-customer-btn:hover {
            background: #5a67d8;
        }
        
        .customer-list {
            margin-top: 20px;
        }
        
        .customer-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 15px;
            align-items: center;
            position: relative;
        }
        
        .customer-name {
            font-weight: 500;
            color: #333;
            font-size: 15px;
        }
        
        .customer-revenue {
            text-align: center;
            font-weight: 600;
            color: #333;
        }
        
        .customer-percentage {
            text-align: center;
            font-weight: 600;
            font-size: 18px;
        }
        
        .percentage-safe {
            color: #2e7d32;
        }
        
        .percentage-warning {
            color: #f57c00;
        }
        
        .percentage-danger {
            color: #c62828;
        }
        
        .risk-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
        }
        
        .risk-low {
            background: #d4edda;
            color: #155724;
        }
        
        .risk-medium {
            background: #fff3cd;
            color: #856404;
        }
        
        .risk-high {
            background: #f8d7da;
            color: #721c24;
        }
        
        .risk-critical {
            background: #721c24;
            color: white;
        }
        
        .delete-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .delete-btn:hover {
            background: #d32f2f;
        }
        
        .calculate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            margin: 20px 0;
            transition: transform 0.2s;
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
        }
        
        .analysis-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
            display: none;
        }
        
        .risk-meter {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 16px;
            margin-bottom: 30px;
        }
        
        .risk-score {
            font-size: 72px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .risk-label {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .risk-description {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .metric-label {
            font-size: 13px;
            color: #666;
        }
        
        .chart-container {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }
        
        .concentration-chart {
            display: flex;
            height: 40px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .chart-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 600;
            border-right: 1px solid rgba(255,255,255,0.3);
        }
        
        .chart-segment:last-child {
            border-right: none;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .warning-title {
            font-size: 16px;
            font-weight: 600;
            color: #856404;
            margin-bottom: 10px;
        }
        
        .warning-content {
            font-size: 14px;
            color: #856404;
            line-height: 1.6;
        }
        
        .action-box {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .action-title {
            font-size: 16px;
            font-weight: 600;
            color: #0c5460;
            margin-bottom: 10px;
        }
        
        .action-list {
            list-style: none;
            padding: 0;
        }
        
        .action-list li {
            padding: 8px 0;
            color: #0c5460;
            font-size: 14px;
            padding-left: 20px;
            position: relative;
        }
        
        .action-list li::before {
            content: '→';
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .help-text {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }
        
        .top-customers-table {
            width: 100%;
            margin-top: 20px;
        }
        
        .top-customers-table th {
            text-align: left;
            padding: 10px;
            background: #f0f0f0;
            font-size: 13px;
            font-weight: 600;
            color: #333;
        }
        
        .top-customers-table td {
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 14px;
        }
        
        .preset-btn {
            background: #e3f2fd;
            color: #1565c0;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .preset-btn:hover {
            background: #bbdefb;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Customer Concentration Risk Tool</h1>
            <p>Measure Your Business's Single Point of Failure</p>
            <div class="alan-quote">
                "Victory has 1000 fathers, defeat is an orphan. When one customer is 30% of revenue, 
                they own you. They know it, you know it, and any buyer will run away." - Alan Pentz
            </div>
        </div>
        
        <div class="main-content">
            <div class="section-title">Enter Your Top Customers</div>
            
            <div style="margin-bottom: 20px;">
                <button class="preset-btn" onclick="loadExample('balanced')">Load Balanced Example</button>
                <button class="preset-btn" onclick="loadExample('risky')">Load Risky Example</button>
                <button class="preset-btn" onclick="loadExample('critical')">Load Critical Example</button>
            </div>
            
            <div class="customer-input">
                <div class="input-row">
                    <label>Customer Name</label>
                    <label>Annual Revenue</label>
                    <label>Contract Length</label>
                    <div></div>
                </div>
                <div class="input-row">
                    <input type="text" id="customer-name" placeholder="e.g., Acme Corp">
                    <input type="number" id="customer-revenue" placeholder="e.g., 250000">
                    <input type="text" id="contract-length" placeholder="e.g., 2 years">
                    <button class="add-customer-btn" onclick="addCustomer()">Add Customer</button>
                </div>
                <div class="help-text">
                    Add your top 10-20 customers or until you reach 80% of revenue
                </div>
            </div>
            
            <div class="customer-list" id="customer-list">
                <!-- Customers will be added here -->
            </div>
            
            <button class="calculate-btn" onclick="analyzeRisk()">Analyze Concentration Risk</button>
        </div>
        
        <div class="analysis-section" id="analysis">
            <div class="risk-meter">
                <div class="risk-score" id="risk-score">0</div>
                <div class="risk-label" id="risk-label">Risk Level</div>
                <div class="risk-description" id="risk-description">
                    <!-- Dynamic description -->
                </div>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value" id="top-customer-percent">0%</div>
                    <div class="metric-label">Largest Customer</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="top-three-percent">0%</div>
                    <div class="metric-label">Top 3 Customers</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="top-ten-percent">0%</div>
                    <div class="metric-label">Top 10 Customers</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="herfindahl-index">0</div>
                    <div class="metric-label">HHI Score</div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Revenue Concentration Visual</div>
                <div class="concentration-chart" id="concentration-chart">
                    <!-- Dynamic chart segments -->
                </div>
                <div id="chart-legend" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                    <!-- Dynamic legend -->
                </div>
            </div>
            
            <div class="warning-box" id="warning-box" style="display: none;">
                <div class="warning-title">⚠️ Critical Warning</div>
                <div class="warning-content" id="warning-content">
                    <!-- Dynamic warning -->
                </div>
            </div>
            
            <div class="action-box">
                <div class="action-title">Risk Mitigation Actions</div>
                <ul class="action-list" id="action-list">
                    <!-- Dynamic actions -->
                </ul>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Top Customers Detail</div>
                <table class="top-customers-table">
                    <thead>
                        <tr>
                            <th>Customer</th>
                            <th>Revenue</th>
                            <th>% of Total</th>
                            <th>Risk Level</th>
                        </tr>
                    </thead>
                    <tbody id="top-customers-tbody">
                        <!-- Dynamic rows -->
                    </tbody>
                </table>
            </div>
            
            <div class="warning-box" style="background: #d4edda; border-color: #28a745;">
                <div class="warning-title" style="color: #155724;">Alan's Rule of Thumb</div>
                <div class="warning-content" style="color: #155724;">
                    <strong>The 20/50/80 Rule:</strong><br>
                    • No single customer over 20% = Healthy<br>
                    • Top 3 customers under 50% = Manageable<br>
                    • Need 20+ customers to reach 80% revenue = Diversified<br><br>
                    
                    Break these rules and you don't have a business - you have a single point of failure.
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let customers = [];
        let totalRevenue = 0;
        
        function loadExample(type) {
            customers = [];
            
            if (type === 'balanced') {
                customers = [
                    { id: 1, name: 'Alpha Corp', revenue: 180000, contract: '3 years' },
                    { id: 2, name: 'Beta Industries', revenue: 160000, contract: '2 years' },
                    { id: 3, name: 'Gamma LLC', revenue: 140000, contract: '1 year' },
                    { id: 4, name: 'Delta Systems', revenue: 120000, contract: '2 years' },
                    { id: 5, name: 'Epsilon Tech', revenue: 100000, contract: '1 year' },
                    { id: 6, name: 'Zeta Group', revenue: 90000, contract: 'Monthly' },
                    { id: 7, name: 'Eta Solutions', revenue: 80000, contract: '1 year' },
                    { id: 8, name: 'Theta Inc', revenue: 70000, contract: '2 years' },
                    { id: 9, name: 'Iota Services', revenue: 60000, contract: 'Monthly' },
                    { id: 10, name: 'Kappa Co', revenue: 50000, contract: '1 year' }
                ];
            } else if (type === 'risky') {
                customers = [
                    { id: 1, name: 'MegaCorp', revenue: 450000, contract: '1 year' },
                    { id: 2, name: 'Big Client Co', revenue: 250000, contract: '6 months' },
                    { id: 3, name: 'Major Industries', revenue: 150000, contract: '1 year' },
                    { id: 4, name: 'Standard LLC', revenue: 80000, contract: 'Monthly' },
                    { id: 5, name: 'Small Biz Inc', revenue: 40000, contract: 'Monthly' },
                    { id: 6, name: 'Tiny Co', revenue: 30000, contract: 'Monthly' }
                ];
            } else if (type === 'critical') {
                customers = [
                    { id: 1, name: 'Whale Customer', revenue: 750000, contract: 'At-will' },
                    { id: 2, name: 'Secondary Corp', revenue: 150000, contract: '6 months' },
                    { id: 3, name: 'Minor LLC', revenue: 50000, contract: 'Monthly' },
                    { id: 4, name: 'Tiny Inc', revenue: 30000, contract: 'Monthly' },
                    { id: 5, name: 'Micro Co', revenue: 20000, contract: 'Monthly' }
                ];
            }
            
            renderCustomers();
        }
        
        function addCustomer() {
            const name = document.getElementById('customer-name').value;
            const revenue = parseFloat(document.getElementById('customer-revenue').value) || 0;
            const contract = document.getElementById('contract-length').value || 'Unknown';
            
            if (!name || revenue === 0) {
                alert('Please enter customer name and revenue');
                return;
            }
            
            customers.push({
                id: Date.now(),
                name: name,
                revenue: revenue,
                contract: contract
            });
            
            renderCustomers();
            clearInputs();
        }
        
        function clearInputs() {
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-revenue').value = '';
            document.getElementById('contract-length').value = '';
        }
        
        function deleteCustomer(id) {
            customers = customers.filter(c => c.id !== id);
            renderCustomers();
        }
        
        function renderCustomers() {
            const customerList = document.getElementById('customer-list');
            
            if (customers.length === 0) {
                customerList.innerHTML = '<p style="text-align: center; color: #999;">No customers added yet. Use the form above or load an example.</p>';
                return;
            }
            
            // Calculate total revenue
            totalRevenue = customers.reduce((sum, c) => sum + c.revenue, 0);
            
            // Sort by revenue descending
            const sortedCustomers = [...customers].sort((a, b) => b.revenue - a.revenue);
            
            customerList.innerHTML = sortedCustomers.map(customer => {
                const percentage = (customer.revenue / totalRevenue * 100).toFixed(1);
                const percentageClass = percentage >= 30 ? 'percentage-danger' : 
                                       percentage >= 20 ? 'percentage-warning' : 'percentage-safe';
                
                const riskClass = percentage >= 30 ? 'risk-critical' :
                                 percentage >= 20 ? 'risk-high' :
                                 percentage >= 15 ? 'risk-medium' : 'risk-low';
                
                const riskLabel = percentage >= 30 ? 'CRITICAL' :
                                 percentage >= 20 ? 'HIGH' :
                                 percentage >= 15 ? 'MEDIUM' : 'LOW';
                
                return `
                    <div class="customer-item">
                        <div class="customer-name">${customer.name}</div>
                        <div class="customer-revenue">$${customer.revenue.toLocaleString()}</div>
                        <div class="customer-percentage ${percentageClass}">${percentage}%</div>
                        <div><span class="risk-badge ${riskClass}">${riskLabel}</span></div>
                        <button class="delete-btn" onclick="deleteCustomer(${customer.id})">Remove</button>
                    </div>
                `;
            }).join('');
        }
        
        function analyzeRisk() {
            if (customers.length === 0) {
                alert('Please add at least one customer');
                return;
            }
            
            // Sort customers by revenue
            const sortedCustomers = [...customers].sort((a, b) => b.revenue - a.revenue);
            
            // Calculate metrics
            const topCustomerPercent = (sortedCustomers[0].revenue / totalRevenue * 100);
            const topThreePercent = sortedCustomers.slice(0, 3)
                .reduce((sum, c) => sum + c.revenue, 0) / totalRevenue * 100;
            const topTenPercent = sortedCustomers.slice(0, 10)
                .reduce((sum, c) => sum + c.revenue, 0) / totalRevenue * 100;
            
            // Calculate Herfindahl-Hirschman Index (HHI)
            const hhi = customers.reduce((sum, c) => {
                const share = c.revenue / totalRevenue;
                return sum + (share * share * 10000);
            }, 0);
            
            // Calculate risk score (0-100)
            let riskScore = 0;
            if (topCustomerPercent >= 50) riskScore = 100;
            else if (topCustomerPercent >= 30) riskScore = 80 + (topCustomerPercent - 30);
            else if (topCustomerPercent >= 20) riskScore = 60 + (topCustomerPercent - 20) * 2;
            else if (topCustomerPercent >= 15) riskScore = 40 + (topCustomerPercent - 15) * 4;
            else riskScore = topCustomerPercent * 2.67;
            
            // Display results
            displayAnalysis(riskScore, topCustomerPercent, topThreePercent, topTenPercent, hhi, sortedCustomers);
            
            // Show analysis section
            document.getElementById('analysis').style.display = 'block';
            document.getElementById('analysis').scrollIntoView({ behavior: 'smooth' });
        }
        
        function displayAnalysis(riskScore, topCustomer, topThree, topTen, hhi, sortedCustomers) {
            // Risk meter
            const scoreElement = document.getElementById('risk-score');
            const labelElement = document.getElementById('risk-label');
            const descElement = document.getElementById('risk-description');
            
            scoreElement.textContent = Math.round(riskScore);
            
            if (riskScore >= 80) {
                scoreElement.style.color = '#c62828';
                labelElement.textContent = 'CRITICAL RISK';
                labelElement.style.color = '#c62828';
                descElement.textContent = 'Your business is essentially owned by your largest customer. This is not a sellable business.';
            } else if (riskScore >= 60) {
                scoreElement.style.color = '#f57c00';
                labelElement.textContent = 'HIGH RISK';
                labelElement.style.color = '#f57c00';
                descElement.textContent = 'Significant concentration risk. Any buyer will heavily discount valuation or walk away.';
            } else if (riskScore >= 40) {
                scoreElement.style.color = '#fbc02d';
                labelElement.textContent = 'MODERATE RISK';
                labelElement.style.color = '#fbc02d';
                descElement.textContent = 'Some concentration concerns but manageable with focused effort.';
            } else {
                scoreElement.style.color = '#2e7d32';
                labelElement.textContent = 'LOW RISK';
                labelElement.style.color = '#2e7d32';
                descElement.textContent = 'Well-diversified customer base. This is what buyers want to see.';
            }
            
            // Metrics
            document.getElementById('top-customer-percent').textContent = topCustomer.toFixed(1) + '%';
            document.getElementById('top-three-percent').textContent = topThree.toFixed(1) + '%';
            document.getElementById('top-ten-percent').textContent = topTen.toFixed(1) + '%';
            document.getElementById('herfindahl-index').textContent = Math.round(hhi);
            
            // Color code metrics
            document.getElementById('top-customer-percent').style.color = 
                topCustomer >= 30 ? '#c62828' : topCustomer >= 20 ? '#f57c00' : '#2e7d32';
            document.getElementById('top-three-percent').style.color = 
                topThree >= 60 ? '#c62828' : topThree >= 50 ? '#f57c00' : '#2e7d32';
            
            // Concentration chart
            const chartContainer = document.getElementById('concentration-chart');
            const legendContainer = document.getElementById('chart-legend');
            const colors = ['#c62828', '#ef5350', '#ff7043', '#ffa726', '#ffca28', '#66bb6a', '#42a5f5', '#ab47bc', '#78909c', '#8d6e63'];
            
            chartContainer.innerHTML = '';
            legendContainer.innerHTML = '';
            
            sortedCustomers.slice(0, 10).forEach((customer, index) => {
                const width = (customer.revenue / totalRevenue * 100);
                const segment = document.createElement('div');
                segment.className = 'chart-segment';
                segment.style.width = width + '%';
                segment.style.background = colors[index % colors.length];
                segment.textContent = width >= 5 ? width.toFixed(0) + '%' : '';
                chartContainer.appendChild(segment);
                
                // Add to legend
                const legendItem = document.createElement('div');
                legendItem.style.display = 'flex';
                legendItem.style.alignItems = 'center';
                legendItem.style.gap = '5px';
                legendItem.innerHTML = `
                    <div style="width: 12px; height: 12px; background: ${colors[index % colors.length]}; border-radius: 2px;"></div>
                    <span style="font-size: 12px; color: #666;">${customer.name}</span>
                `;
                legendContainer.appendChild(legendItem);
            });
            
            // Warning box
            const warningBox = document.getElementById('warning-box');
            const warningContent = document.getElementById('warning-content');
            
            if (topCustomer >= 30) {
                warningBox.style.display = 'block';
                warningContent.textContent = `Your largest customer represents ${topCustomer.toFixed(1)}% of revenue. If they leave, your business could fail overnight. No rational buyer will purchase this level of risk.`;
            } else if (topCustomer >= 20) {
                warningBox.style.display = 'block';
                warningContent.textContent = `Customer concentration over 20% significantly reduces business value. You need to diversify immediately or accept a 30-50% valuation discount.`;
            } else {
                warningBox.style.display = 'none';
            }
            
            // Action items
            const actionList = document.getElementById('action-list');
            const actions = [];
            
            if (topCustomer >= 30) {
                actions.push('URGENT: Implement customer diversification plan within 90 days');
                actions.push('Set hard limit: reject new business from top customer');
                actions.push('Launch aggressive new customer acquisition campaign');
            } else if (topCustomer >= 20) {
                actions.push('Cap largest customer at current revenue level');
                actions.push('Target 20 new customers in next 6 months');
                actions.push('Create "No customer over 15%" policy going forward');
            }
            
            if (sortedCustomers.length < 20) {
                actions.push(`Add ${20 - sortedCustomers.length} more customers to improve diversification`);
            }
            
            if (topThree >= 50) {
                actions.push('Top 3 concentration too high - need broader customer base');
            }
            
            actions.push('Document what would happen if each top customer left');
            actions.push('Build recurring revenue to reduce transaction dependence');
            
            actionList.innerHTML = actions.map(action => `<li>${action}</li>`).join('');
            
            // Top customers table
            const tbody = document.getElementById('top-customers-tbody');
            tbody.innerHTML = sortedCustomers.slice(0, 10).map(customer => {
                const percentage = (customer.revenue / totalRevenue * 100);
                const riskLabel = percentage >= 30 ? 'CRITICAL' :
                                 percentage >= 20 ? 'HIGH' :
                                 percentage >= 15 ? 'MEDIUM' : 'LOW';
                const riskClass = percentage >= 30 ? 'risk-critical' :
                                 percentage >= 20 ? 'risk-high' :
                                 percentage >= 15 ? 'risk-medium' : 'risk-low';
                
                return `
                    <tr>
                        <td>${customer.name}</td>
                        <td>$${customer.revenue.toLocaleString()}</td>
                        <td>${percentage.toFixed(1)}%</td>
                        <td><span class="risk-badge ${riskClass}">${riskLabel}</span></td>
                    </tr>
                `;
            }).join('');
        }
    </script>
</body>
</html>